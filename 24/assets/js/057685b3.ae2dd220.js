"use strict";(self.webpackChunkhardware_software_interface=self.webpackChunkhardware_software_interface||[]).push([[2869],{5680:(e,n,a)=>{a.d(n,{xA:()=>m,yg:()=>d});var t=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=t.createContext({}),c=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):l(l({},n),e)),a},m=function(e){var n=c(e.components);return t.createElement(s.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},g=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),p=c(a),g=r,d=p["".concat(s,".").concat(g)]||p[g]||u[g]||i;return a?t.createElement(d,l(l({ref:n},m),{},{components:a})):t.createElement(d,l({ref:n},m))}));function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=g;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=a[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,a)}g.displayName="MDXCreateElement"},1455:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=a(8168),r=(a(6540),a(5680));const i={},l="Maximum Calculation in Assembly with Call from C",o={unversionedId:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/README",id:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/README",title:"Maximum Calculation in Assembly with Call from C",description:"Navigate to drills/tasks/max-c-calls/support and open main.c",source:"@site/docs/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/README.md",sourceDirName:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls",slug:"/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Tasks",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/"},next:{title:"Maximum Calculation in C with Call from Assembly",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/"}},s={},c=[],m={toc:c},p="wrapper";function u(e){let{components:n,...a}=e;return(0,r.yg)(p,(0,t.A)({},m,a,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"maximum-calculation-in-assembly-with-call-from-c"},"Maximum Calculation in Assembly with Call from C"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("inlineCode",{parentName:"p"},"drills/tasks/max-c-calls/support")," and open ",(0,r.yg)("inlineCode",{parentName:"p"},"main.c")),(0,r.yg)("p",null,"In this subdirectory you can find an implementation of calculating the maximum of a number where the ",(0,r.yg)("inlineCode",{parentName:"p"},"main()")," function is defined in C from which the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max()")," function defined in assembly language is called."),(0,r.yg)("p",null,"Trace the code in the two files and how the function arguments and return value are passed."),(0,r.yg)("p",null,"Compile and run the program.\nTo compile it run the command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"make\n")),(0,r.yg)("p",null,"Running the command results in the mainmax executable which we can execute using the command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"./mainmax\n")),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"IMPORTANT:"),"\nPay attention to understanding the code before proceeding to the next exercise.")),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"IMPORTANT:"),"\nThe return value of a function is placed in the ",(0,r.yg)("inlineCode",{parentName:"p"},"eax")," register.")),(0,r.yg)("h1",{id:"maximum-computation-extension-in-assembly-with-call-from-c"},"Maximum Computation Extension in Assembly with Call from C"),(0,r.yg)("p",null,"Extend the program from the previous exercise (in assembly language and C) so that the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max()")," function now has the signature ",(0,r.yg)("inlineCode",{parentName:"p"},"unsigned int get_max(unsigned int *arr, unsigned int len, unsigned int *pos)"),".\nThe third argument to the function is the address where the position in the vector on which the maximum is found will be held."),(0,r.yg)("p",null,"The position in the vector on which the maximum is found will also be displayed on display."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"TIP:"),"\nTo hold the position, it is best to define a local variable ",(0,r.yg)("inlineCode",{parentName:"p"},"pos")," in the ",(0,r.yg)("inlineCode",{parentName:"p"},"main()")," function in the C file (",(0,r.yg)("inlineCode",{parentName:"p"},"main.c"),") in the form"),(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre",className:"language-C"},"unsigned int pos;\n")),(0,r.yg)("p",{parentName:"blockquote"},"and call the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max()")," function in the form:"),(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre",className:"language-C"},"max = get_max(arr, 10, &pos);\n"))),(0,r.yg)("p",null,"If you're having difficulties solving this exercise, go through ",(0,r.yg)("a",{parentName:"p",href:"/hardware-software-interface/24/Lab%2010%20-%20C%20-%20Assembly%20Interaction/Stack%20Handling/Reading/#passing-parameters-from-c-to-the-assembly-procedure"},"this relevant section")," reading material."))}u.isMDXComponent=!0}}]);