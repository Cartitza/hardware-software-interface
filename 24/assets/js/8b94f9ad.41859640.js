"use strict";(self.webpackChunkhardware_software_interface=self.webpackChunkhardware_software_interface||[]).push([[2990],{5680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>y});var a=t(6540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),m=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=m(e.components);return a.createElement(s.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=m(t),d=r,y=p["".concat(s,".").concat(d)]||p[d]||u[d]||i;return t?a.createElement(y,l(l({ref:n},c),{},{components:t})):a.createElement(y,l({ref:n},c))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=d;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var m=2;m<i;m++)l[m]=t[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9958:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>m});var a=t(8168),r=(t(6540),t(5680));const i={},l="Maximum Calculation in C with Call from Assembly",o={unversionedId:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/README",id:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/README",title:"Maximum Calculation in C with Call from Assembly",description:"Navigate to drills/tasks/max-assembly-calls/support/ and open main.asm",source:"@site/docs/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/README.md",sourceDirName:"Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls",slug:"/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max Assembly Calls/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Maximum Calculation in Assembly with Call from C",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls/"},next:{title:"Maximum Computation in Assembly with 64-bit C Call",permalink:"/hardware-software-interface/24/Lab 10 - C - Assembly Interaction/Stack Handling/Drills/Tasks/Max C Calls x64/"}},s={},m=[],c={toc:m},p="wrapper";function u(e){let{components:n,...t}=e;return(0,r.yg)(p,(0,a.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"maximum-calculation-in-c-with-call-from-assembly"},"Maximum Calculation in C with Call from Assembly"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("inlineCode",{parentName:"p"},"drills/tasks/max-assembly-calls/support/")," and open ",(0,r.yg)("inlineCode",{parentName:"p"},"main.asm")),(0,r.yg)("p",null,"In this directory you can find an implementation of calculating the maximum of a number where the ",(0,r.yg)("inlineCode",{parentName:"p"},"main()")," function is defined in assembly language from which the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max()")," function defined in C is called."),(0,r.yg)("p",null,"Trace the code in the two files and how the function arguments and return value are passed."),(0,r.yg)("p",null,"Compile and run the program."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"IMPORTANT:"),"\nPay attention to understanding the code before proceeding to the next exercise.")),(0,r.yg)("h1",{id:"extending-maximum-computation-in-c-with-call-from-assembly"},"Extending Maximum Computation in C with Call from Assembly"),(0,r.yg)("p",null,"Extend the program from the previous exercise (in assembly language and C) so that the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max()")," function now has the signature ",(0,r.yg)("inlineCode",{parentName:"p"},"unsigned int get_max(unsigned int *arr, unsigned int len, unsigned int *pos)"),".\nThe third argument to the function is the address where the position in the vector on which the maximum is found will be held."),(0,r.yg)("p",null,"The position in the vector on which the maximum is found will also be displayed on display."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("strong",{parentName:"p"},"TIP:"),"\nTo hold the position, it is best to define a global variable in the assembly file (",(0,r.yg)("inlineCode",{parentName:"p"},"main.asm"),") in the ",(0,r.yg)("inlineCode",{parentName:"p"},".data")," section, of the form")),(0,r.yg)("blockquote",null,(0,r.yg)("pre",{parentName:"blockquote"},(0,r.yg)("code",{parentName:"pre",className:"language-Assembly"},"pos: dd 0\n"))),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"This variable you will pass (by address) to the ",(0,r.yg)("inlineCode",{parentName:"p"},"get_max")," call and by value to the ",(0,r.yg)("inlineCode",{parentName:"p"},"printf()")," call for display."),(0,r.yg)("p",{parentName:"blockquote"},"For display modify the ",(0,r.yg)("inlineCode",{parentName:"p"},"print_format")," string and the ",(0,r.yg)("inlineCode",{parentName:"p"},"printf()")," call in the assembly file (",(0,r.yg)("inlineCode",{parentName:"p"},"main.asm"),") to allow two values to be displayed: maximum and position.")),(0,r.yg)("p",null,"If you're having difficulties solving this exercise, go through ",(0,r.yg)("a",{parentName:"p",href:"/hardware-software-interface/24/Lab%2010%20-%20C%20-%20Assembly%20Interaction/Stack%20Handling/Reading/#passing-parameters-from-c-to-the-assembly-procedure"},"this relevant section")," reading material."))}u.isMDXComponent=!0}}]);